1. axios 추가 
"axios": "^1.7.9",

2. 서버에서 command 작업하기

3. CORS 작업

Access to XMLHttpRequest at 'http://127.0.0.1:8000/api/categories/' from origin 'http://localhost:5173' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.

# dev_3_Fruit
# 정확히 허용할 도메인만
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",  # 프론트 도메인
]
CORS_ORIGIN_ALLOW_ALL = True  # 어떠한 출처든 상관없이 정보를 공유

✅ 1. 브라우저가 HTML 문서를 로드할 때, "출처(Origin)"를 어떻게 정하나요?
브라우저는 HTML 문서를 로딩한 주소를 기준으로 "자신의 출처(origin)" 를 자동으로 설정합니다.

📦 예를 들어:
프론트엔드 서버가 이렇게 동작하고 있다고 가정해볼게요:

React 앱: http://localhost:3000

유저가 접속: 브라우저가 http://localhost:3000 에서 HTML 문서(index.html)를 받아옴

👉 이때 브라우저는:
text
복사
편집
Origin = 프로토콜 + 도메인 + 포트
       = http://localhost:3000
→ 즉, "나는 localhost:3000 출처에서 실행 중인 웹 페이지야!" 라고 스스로 인식해요.

✅ 2. 이 Origin은 어떤 용도로 쓰이나요?
→ 브라우저는 이 "내 Origin"을 기준으로:
다른 서버에 요청을 보낼 때

CORS 정책을 검사할 때

쿠키, 토큰 등 보안 관련 처리를 할 때

👉 항상 **"내 출처와 요청할 서버의 출처가 같은가?"**를 기준으로 판단해요.

✅ 3. CORS 판단 흐름 예시

항목	내용
페이지 로딩	브라우저가 http://localhost:3000에서 HTML을 받음
브라우저의 origin 설정	→ 이 페이지의 origin은 http://localhost:3000
API 요청	React 앱이 http://localhost:8000/api/products/ 로 fetch 요청
브라우저 CORS 검사	출처 다름 (3000 ≠ 8000) → CORS 요청 (OPTIONS → 실제 요청) 수행
서버 응답 검사	백엔드가 Access-Control-Allow-Origin: http://localhost:3000 포함 시 통과
💡 핵심 요약
브라우저는 HTML 문서를 처음 받은 주소를 기준으로 "자신의 Origin"을 설정합니다.

이후 JS에서 외부 요청을 보낼 때, 이 origin을 기준으로 같은 출처인지 판단해 CORS 정책을 적용합니다.

이 origin은 브라우저가 자동으로 인식하며, 프론트 개발자가 설정하지 않아도 됩니다.

필요하다면 CORS 요청이 실제로 어떤 방식으로 이루어지는지(OPTIONS → 실제 요청 등), 네트워크 탭으로 확인하는 방법도 알려드릴게요!

origin 확인
![alt text](image.png)

original 확인
![alt text](image-1.png)


✅ 질문:
http://localhost:3000 오리진 정보가 서버에 전달되는가?

💡 답:
Yes, 브라우저가 자동으로 Origin 헤더를 붙여서 서버에 전달합니다.
다만, 모든 요청에 붙지는 않고, 주로 다른 출처로 요청하거나 민감한 요청일 때 붙습니다.

📦 예시 1: 단순 GET 요청 (Cross-Origin)
js
복사
편집
fetch('http://localhost:8000/api/products/')
이때 브라우저는 자동으로 아래 헤더를 붙입니다:

arduino
복사
편집
Origin: http://localhost:3000
즉, "나는 이 요청을 http://localhost:3000에서 실행 중인 페이지에서 보낸 거야" 라고 서버에 말하는 거예요.

📦 예시 2: same-origin 요청
만약 API 서버가 프론트와 같은 주소 (예: http://localhost:3000/api)에 있다면
브라우저는 Origin 헤더를 안 붙일 수도 있습니다.

✅ 예시 캡처 (네트워크 탭)
요청 헤더:
bash
복사
편집
GET /api/products/ HTTP/1.1
Host: localhost:8000
Origin: http://localhost:3000
응답 헤더:
arduino
복사
편집
Access-Control-Allow-Origin: http://localhost:3000
이게 있어야 브라우저가 통과시킵니다.

🧠 브라우저는 언제 Origin 헤더를 붙일까?

상황	Origin 헤더 붙음?
같은 출처로 요청	❌ 안 붙거나 생략 가능
다른 출처로 요청 (Cross-Origin)	✅ 반드시 붙음
POST, PUT, DELETE 요청	✅ 보통 붙음 (Preflight 포함)
쿠키 등 민감한 정보 포함 시	✅ 붙음 + credentials 필요
🧼 정리
Origin 헤더는 브라우저가 자동으로 서버에 전달함

주로 다른 출처로의 요청일 때 포함됨

서버는 이 값을 보고 허용 여부를 판단해 CORS 응답을 줌 (Access-Control-Allow-Origin)

프론트 개발자는 따로 설정할 필요 없음 (브라우저가 다 처리)

